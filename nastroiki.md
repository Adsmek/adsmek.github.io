Title: Настройки
authors: docs.getpelican.com
summary: Пеликан настраивается благодаря файлу настроек


# Настройки [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#settings "Постоянная ссылка на этот заголовок")

Пеликан настраивается благодаря файлу настроек, который вы можете передать в командную строку:

	pelican content -s path/to/your/pelicanconf.py 

Если вы использовали эту `pelican-quickstart` команду, ваш основной файл настроек будет иметь имя `pelicanconf.py` по умолчанию.

> Заметка
> 
> При экспериментировании с разными настройками (особенно с метаданными) кеширование может мешать, и изменения могут быть не видны. В таких случаях отключите кеширование `LOAD_CONTENT_CACHE = False` или используйте `--ignore-cache` переключатель командной строки.

Настройки настраиваются в виде модуля Python (файла). Для [справки](https://github.com/getpelican/pelican/raw/master/samples/pelican.conf.py) доступен [пример файла настроек](https://github.com/getpelican/pelican/raw/master/samples/pelican.conf.py) .

Чтобы просмотреть список текущих настроек в вашей среде, включая значения по умолчанию и любые пользовательские значения, выполните следующую команду (добавьте одно или несколько конкретных имен настроек в качестве аргументов, чтобы увидеть значения только для этих настроек):

	pelican --print-settings

Все идентификаторы настроек должны быть написаны заглавными буквами, иначе они не будут обработаны. Значения настройки, которые являются числами (5, 20 и т. Д.), Логическими (True, False, None и т. Д.), Словарями или кортежами, _не_ должны заключаться в кавычки. Все остальные значения (например, строки) _должны_ быть заключены в кавычки.

Если не указано иное, настройки, относящиеся к путям, могут быть абсолютными или относительными по отношению к файлу конфигурации. Настройки, которые вы определяете в файле конфигурации, будут переданы в шаблоны, что позволит вам использовать ваши настройки для добавления контента всего сайта.

Вот список настроек Пеликана:

## Основные настройки [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#basic-settings "Постоянная ссылка на этот заголовок")

`USE_FOLDER_AS_CATEGORY = True`

Если вы не укажете категорию в метаданных вашего сообщения, установите для этого параметра значение `True`и организуете свои статьи по подпапкам, подпапка станет категорией вашего сообщения. Если установлено `False`, `DEFAULT_CATEGORY` будет использоваться как резерв.

`DEFAULT_CATEGORY = 'misc'`

Категория по умолчанию, к которой следует вернуться.

`DISPLAY_PAGES_ON_MENU = True`

Отображать ли страницы в меню шаблона. Шаблоны могут или не могут соблюдать этот параметр.

`DISPLAY_CATEGORIES_ON_MENU = True`

Отображать ли категории в меню шаблона. Шаблоны могут или не учитывать этот параметр.

`DOCUTILS_SETTINGS = {}`

Дополнительные параметры конфигурации для издателя документов (применимы только к reStructuredText). Дополнительные [сведения](http://docutils.sourceforge.net/docs/user/config.html) см. В разделе [Параметры конфигурации Docutils](http://docutils.sourceforge.net/docs/user/config.html) .

`DELETE_OUTPUT_DIRECTORY = False`

Перед созданием новых файлов удалите каталог вывода и **все** его содержимое. Это может быть полезно для предотвращения сохранения старых ненужных файлов в вашем выводе. Однако **это деструктивная обстановка, и с ней нужно обращаться с особой осторожностью.**

`OUTPUT_RETENTION = []`

Список имен файлов, которые следует сохранить и не удалять из выходного каталога. Одним из вариантов использования может быть сохранение данных контроля версий.

Пример:

	OUTPUT_RETENTION = [".hg", ".git", ".bzr"]


`JINJA_ENVIRONMENT = {'trim_blocks': True, 'lstrip_blocks': True}`

Словарь пользовательских переменных среды Jinja2, которые вы хотите использовать. Сюда также входит список расширений, которые вы, возможно, захотите включить. См. [Документацию по среде Jinja](http://jinja.pocoo.org/docs/dev/api/#jinja2.Environment) .

`JINJA_FILTERS = {}`

Словарь пользовательских фильтров Jinja2, которые вы хотите использовать. Словарь должен сопоставлять имя фильтра с функцией фильтра.

Пример:

	JINJA_FILTERS = {'urlencode': urlencode_filter}

См. [Документацию по пользовательским фильтрам Jinja](http://jinja.pocoo.org/docs/api/#custom-filters) .

`LOG_FILTER = []`

Список кортежей, содержащий уровень ведения журнала (до `warning`) и сообщение, которое следует игнорировать.

Пример:

	LOG_FILTER = [(logging.WARN, 'TAG_SAVE_AS is set to False')]


`READERS = {}`

Словарь расширений файлов / классов чтения, которые Пеликан обрабатывает или игнорирует.

Например, чтобы избежать обработки файлов .html, установите:

	READERS = {'html': None}

Чтобы добавить пользовательский ридер для `foo` расширения, установите:

	READERS = {'foo': FooReader}

`IGNORE_FILES = ['.#*']`

Список шаблонов глобусов. Файлы и каталоги, соответствующие любому из этих шаблонов, будут игнорироваться процессором. Например, по умолчанию `['.#*']` будут игнорироваться файлы блокировки emacs и `['__pycache__']` кеши байт-кода Python 3.

`MARKDOWN = {...}`

Дополнительные параметры конфигурации для процессора Markdown. Обратитесь к [разделу](https://python-markdown.github.io/reference/#markdown) « [Параметры»](https://python-markdown.github.io/reference/#markdown) документации Python Markdown для получения полного списка поддерживаемых параметров. `extensions` Опция будет автоматически вычисляется из `extension_configs` опции.

По умолчанию:

	MARKDOWN = {
	    'extension_configs': {
	        'markdown.extensions.codehilite': {'css_class': 'highlight'},
	        'markdown.extensions.extra': {},
	        'markdown.extensions.meta': {},
	    },
	    'output_format': 'html5',
	}

> Заметка
> 
> Словарь, определенный в вашем файле настроек, заменит этот словарь по умолчанию.


`OUTPUT_PATH = 'output/'`

Куда выводить сгенерированные файлы.

`PATH`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#PATH "Постоянная ссылка на это определение")

Путь к каталогу содержимого, который будет обрабатывать Пеликан. Если не определено и путь к содержимому не указан в аргументе `pelican` команды, Pelican будет использовать текущий рабочий каталог.

`PAGE_PATHS = ['pages']`

Список каталогов и файлов для поиска страниц относительно `PATH`.

`PAGE_EXCLUDES = []`

Список каталогов, которые необходимо исключить при поиске страниц в дополнение к `ARTICLE_PATHS`.

`ARTICLE_PATHS = ['']`

Список каталогов и файлов для поиска статей относительно `PATH`.

`ARTICLE_EXCLUDES = []`

Список каталогов, которые следует исключить при поиске статей в дополнение к `PAGE_PATHS`.

`OUTPUT_SOURCES = False`

Установите значение True, если вы хотите скопировать статьи и страницы в их исходном формате (например, Markdown или reStructuredText) в указанный `OUTPUT_PATH`.

`OUTPUT_SOURCES_EXTENSION = '.text'`

Управляет расширением, которое будет использоваться SourcesGenerator. По умолчанию `.text`. Если строка недействительна, будет использоваться значение по умолчанию.

`PLUGINS = []`

Список плагинов для загрузки. См. [Плагины](https://docs.getpelican.com/en/stable/plugins.html#plugins) .

`PLUGIN_PATHS = []`

Список каталогов, где искать плагины. См. [Плагины](https://docs.getpelican.com/en/stable/plugins.html#plugins) .

`SITENAME = 'A Pelican Blog'`

Название вашего сайта

`SITEURL`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#SITEURL "Постоянная ссылка на это определение")

Базовый URL-адрес вашего веб-сайта. Не определено по умолчанию, поэтому лучше указать ваш SITEURL; в противном случае каналы не будут создаваться с правильно сформированными URL-адресами. Если ваш сайт доступен через HTTPS, этот параметр должен начинаться с `https://` - в противном случае используйте `http://`. Затем добавьте свой домен без косой черты в конце. Пример: `SITEURL = 'https://example.com'`

`STATIC_PATHS = ['images']`

Список каталогов (относительно `PATH`), в которых нужно искать статические файлы. Такие файлы будут скопированы в выходной каталог без изменений. Статьи, страницы и другие исходные файлы контента обычно пропускаются, поэтому каталог может отображаться как здесь, так и в `PAGE_PATHS` или `ARTICLE_PATHS`. Настройки Пеликана по умолчанию включают сюда каталог «изображений».

`STATIC_EXCLUDES = []`

Список каталогов, которые нужно исключить при поиске статических файлов.

`STATIC_EXCLUDE_SOURCES = True`

Если установлено значение False, исходные файлы контента не будут пропускаться при копировании файлов, найденных в `STATIC_PATHS`. Этот параметр предназначен для обратной совместимости с выпусками Pelican до версии 3.5. Он не действует, если он не `STATIC_PATHS` содержит каталога, который также находится в `ARTICLE_PATHS` или `PAGE_PATHS`. Если вы пытаетесь опубликовать исходные файлы своего сайта, рассмотрите возможность использования `OUTPUT_SOURCES` вместо этого параметра.

`STATIC_CREATE_LINKS = False`

Создавайте ссылки вместо копирования файлов. Если каталоги содержимого и вывода находятся на одном устройстве, создайте жесткие ссылки. Возвращается к символическим ссылкам, если выходной каталог находится в другой файловой системе. Если создаются символические ссылки, не забудьте добавить параметр `-L` или `--copy-links` в rsync при загрузке вашего сайта.

`STATIC_CHECK_IF_MODIFIED = False`

Если установлено `True`, и `STATIC_CREATE_LINKS` есть `False`, сравнивайте время файлов содержимого и файлов вывода и копируйте только файлы содержимого, которые новее существующих файлов вывода.

`TYPOGRIFY = False`

Если установлено значение True, несколько типографских улучшений будут включены в сгенерированный HTML через библиотеку [Typogrify](https://pypi.python.org/pypi/typogrify) , которую можно установить с помощью: `pip install typogrify`

`TYPOGRIFY_IGNORE_TAGS = []`

Список тегов, которые Typogrify игнорирует. По умолчанию Typogrify будет игнорировать `pre` и `code` теги. Для этого требуется, чтобы была установлена ​​Typogrify версии 2.0.4 или более поздней.

`SUMMARY_MAX_LENGTH = 50`

При создании краткого резюме статьи это будет длина созданного текста по умолчанию (измеренная в словах). Это применимо только в том случае, если в вашем контенте не указано иное резюме. При установке значения `None` сводка будет копией исходного содержимого.

`WITH_FUTURE_DATES = True`

Если этот параметр отключен, контент с датами в будущем получит статус по умолчанию `draft`. См. [Предостережения в](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#reading-only-modified-content) разделе « [Только чтение измененного содержимого»](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#reading-only-modified-content) .

`INTRASITE_LINK_REGEX = '[{|](?P<what>.*?)[|}]'`

Регулярное выражение, которое используется для анализа внутренних ссылок. Синтаксис по умолчанию при связывании с внутренними файлами, тегами и т. Д. Заключается в заключении идентификатора, скажем `filename`, в `{}` или `||`. Идентификатор между `{` и `}` входит в группу `what` захвата. Дополнительные сведения см. В разделе « [Ссылки на внутреннее содержимое»](https://docs.getpelican.com/en/stable/content.html#ref-linking-to-internal-content) .

`PYGMENTS_RST_OPTIONS = []`

Список настроек Pygments по умолчанию для ваших блоков кода reStructuredText. Список поддерживаемых параметров см. В разделе « [Подсветка синтаксиса»](https://docs.getpelican.com/en/stable/content.html#internal-pygments-options) .

`SLUGIFY_SOURCE = 'title'`

Указывает, откуда вы хотите, чтобы слаг был автоматически сгенерирован. Может быть установлено значение `title` для использования тега метаданных «Title:» или `basename` для использования имени файла статьи при создании заголовка.

`CACHE_CONTENT = False`

Если `True`, сохраняет содержимое в кешах. Подробнее о кэшировании см. [Чтение только измененного содержимого](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#reading-only-modified-content) .

`CONTENT_CACHING_LAYER = 'reader'`

Если установлено `'reader'`, сохранять только необработанный контент и метаданные, возвращаемые читателями. Если установлено `'generator'`, сохранять обработанные объекты содержимого.

`CACHE_PATH = 'cache'`

Каталог, в котором хранятся файлы кеша.

`GZIP_CACHE = True`

Если `True`, используйте gzip для (де) сжатия файлов кеша.

`CHECK_MODIFIED_METHOD = 'mtime'`

Управляет тем, как файлы проверяются на наличие изменений.

`LOAD_CONTENT_CACHE = False`

Если `True`загружать неизмененный контент из кешей.

`WRITE_SELECTED = []`

Если этот список не пуст, записываются **только** выходные файлы с их путями в этом списке. Пути должны быть абсолютными или относительными к текущему рабочему каталогу Pelican. Возможные варианты использования см. В разделе [Написание только выбранного содержимого](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#writing-only-selected-content) .

`FORMATTED_FIELDS = ['summary']`

Список полей метаданных, содержащих контент reST / Markdown для анализа и перевода в HTML.

`PORT = 8000`

Порт TCP для обслуживания содержимого из выходной папки через HTTP, когда пеликан запускается с –listen

`BIND = ''`

IP-адрес, к которому нужно привязать HTTP-сервер.

## Настройки URL [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#url-settings "Постоянная ссылка на этот заголовок")

Первое, что нужно понять, это то, что в настоящее время существует два поддерживаемых метода формирования URL: _относительный_ и _абсолютный_ . Относительные URL-адреса полезны при локальном тестировании, а абсолютные URL-адреса надежны и наиболее полезны при публикации. Один из способов поддержки обоих - иметь один файл конфигурации Pelican для локальной разработки, а другой - для публикации. Чтобы увидеть пример такого типа установки, используйте `pelican-quickstart` сценарий, описанный в разделе « [Установка](https://docs.getpelican.com/en/stable/install.html) », который создаст два отдельных файла конфигурации для локальной разработки и публикации соответственно.

Вы можете настроить URL-адреса и места, где будут сохраняться файлы. `*_URL` И `*_SAVE_AS` переменные используют строки форматирования языка Python. Эти переменные позволяют размещать ваши статьи в таком месте, как `{slug}/index.html` и ссылки на них, как `{slug}` для чистых URL-адресов (см. Пример ниже). Эти настройки дают вам возможность размещать свои статьи и страницы в любом месте.

> Заметка
> 
> Если вы укажете `datetime` директиву, она будет заменена атрибутом метаданных даты входных файлов. Если дата не указана для конкретного файла, Pelican будет полагаться на временную `mtime` метку файла . Проверьте [DATETIME документации Python](https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior) для получения дополнительной информации.

Кроме того, вы можете использовать и другие атрибуты метаданных файла:
-    
	-   slug // слизень
	-   date // Дата
	-   lang // языки
	-   author // автор
	-   category // категория

Пример использования:

	ARTICLE_URL = 'posts/{date:%Y}/{date:%b}/{date:%d}/{slug}/'
	ARTICLE_SAVE_AS = 'posts/{date:%Y}/{date:%b}/{date:%d}/{slug}/index.html'
	PAGE_URL = 'pages/{slug}/'
	PAGE_SAVE_AS = 'pages/{slug}/index.html'

Это сохранит ваши статьи во что-то вроде `/posts/2011/Aug/07/sample-post/index.html`, сохранит ваши страницы `/pages/about/index.html`и сделает их доступными по URL-адресам `/posts/2011/Aug/07/sample-post/` и `/pages/about/`, соответственно.

`RELATIVE_URLS = False`

Определяет, должен ли Пеликан использовать URL-адреса, относящиеся к документу, или нет. Установите это значение только `True` при разработке / тестировании и только в том случае, если вы полностью понимаете, какое влияние это может иметь на ссылки / каналы.

`ARTICLE_URL = '{slug}.html'`

URL для ссылки на статью.

`ARTICLE_SAVE_AS = '{slug}.html'`

Место, где мы сохраним статью.

`ARTICLE_LANG_URL = '{slug}-{lang}.html'`

URL-адрес для ссылки на статью, которая не использует язык по умолчанию.

`ARTICLE_LANG_SAVE_AS = '{slug}-{lang}.html'`

Место, где мы сохраним статью, которая не использует язык по умолчанию.

`DRAFT_URL = 'drafts/{slug}.html'`

URL для ссылки на черновик статьи.

`DRAFT_SAVE_AS = 'drafts/{slug}.html'`

Место, где мы сохраним черновик статьи.

`DRAFT_LANG_URL = 'drafts/{slug}-{lang}.html'`

URL-адрес для ссылки на черновик статьи, в котором не используется язык по умолчанию.

`DRAFT_LANG_SAVE_AS = 'drafts/{slug}-{lang}.html'`

Место, где мы сохраним черновик статьи, на котором не используется язык по умолчанию.

`PAGE_URL = 'pages/{slug}.html'`

URL-адрес, который мы будем использовать для ссылки на страницу.

`PAGE_SAVE_AS = 'pages/{slug}.html'`

Место, где мы будем сохранять страницу. Это значение должно быть таким же, как PAGE_URL, иначе вам нужно будет перезаписать конфигурацию вашего сервера.

`PAGE_LANG_URL = 'pages/{slug}-{lang}.html'`

URL-адрес, который мы будем использовать для ссылки на страницу, которая не использует язык по умолчанию.

`PAGE_LANG_SAVE_AS = 'pages/{slug}-{lang}.html'`

Место, где мы будем сохранять страницу, которая не использует язык по умолчанию.

`DRAFT_PAGE_URL = 'drafts/pages/{slug}.html'`

URL-адрес, используемый для ссылки на черновик страницы.

`DRAFT_PAGE_SAVE_AS = 'drafts/pages/{slug}.html'`

Фактическое место сохранения черновика страницы.

`DRAFT_PAGE_LANG_URL = 'drafts/pages/{slug}-{lang}.html'`

URL-адрес, используемый для ссылки на черновик страницы, на котором не используется язык по умолчанию.

`DRAFT_PAGE_LANG_SAVE_AS = 'drafts/pages/{slug}-{lang}.html'`

Фактическое расположение, в котором сохраняется черновик страницы, на котором не используется язык по умолчанию.

`AUTHOR_URL = 'author/{slug}.html'`

URL-адрес, используемый для автора.

`AUTHOR_SAVE_AS = 'author/{slug}.html'`

Место для сохранения автора.

`CATEGORY_URL = 'category/{slug}.html'`

URL-адрес для категории.

`CATEGORY_SAVE_AS = 'category/{slug}.html'`

Место для сохранения категории.

`TAG_URL = 'tag/{slug}.html'`

URL-адрес, используемый для тега.

`TAG_SAVE_AS = 'tag/{slug}.html'`

Место для сохранения страницы тега.

> Заметка
> 
> Если вы не хотите, чтобы одна или несколько страниц по умолчанию
> создавались (например, вы являетесь единственным автором на своем
> сайте и, следовательно, не нуждаетесь в странице авторов), установите
> соответствующий `*_SAVE_AS` параметр, `''` чтобы предотвратить
> создание соответствующей страницы.

При желании Пеликан может создавать архивы ваших сообщений за год, за месяц и за день. Эти вторичные архивы отключены по умолчанию, но автоматически включаются, если вы указываете строки формата для их соответствующих `_SAVE_AS` настроек. Архивы периодов интуитивно соответствуют иерархической модели веб-URL и могут облегчить читателям навигацию по сообщениям, которые вы написали с течением времени.

Пример использования:

	YEAR_ARCHIVE_SAVE_AS = 'posts/{date:%Y}/index.html'
	MONTH_ARCHIVE_SAVE_AS = 'posts/{date:%Y}/{date:%b}/index.html'

С этими настройками Pelican создаст архив всех ваших сообщений за год в (например) `posts/2011/index.html` и архив всех ваших сообщений за месяц в `posts/2011/Aug/index.html`.

> Заметка
> 
> Архивы периода работают лучше всего, когда это последний сегмент пути
> `index.html`. Таким образом, читатель может удалить часть вашего
> URL-адреса и автоматически перейти к соответствующему архиву сообщений
> без необходимости указывать имя страницы.


`YEAR_ARCHIVE_URL = ''`

URL-адрес для годовых архивов ваших сообщений. Используется, только если у вас есть `{url}` заполнитель `PAGINATION_PATTERNS`.

`YEAR_ARCHIVE_SAVE_AS = ''`

Место для хранения годовых архивов ваших сообщений.

`MONTH_ARCHIVE_URL = ''`

URL-адрес для ежемесячных архивов ваших сообщений. Используется, только если у вас есть `{url}` заполнитель `PAGINATION_PATTERNS`.

`MONTH_ARCHIVE_SAVE_AS = ''`

Место для хранения ежемесячных архивов ваших сообщений.

`DAY_ARCHIVE_URL = ''`

URL-адрес для ежедневных архивов ваших сообщений. Используется, только если у вас есть `{url}` заполнитель `PAGINATION_PATTERNS`.

`DAY_ARCHIVE_SAVE_AS = ''`

Место для сохранения дневных архивов ваших сообщений.

`DIRECT_TEMPLATES` работают немного иначе, чем указано выше. `_SAVE_AS` Доступны только настройки, но они доступны для любого прямого шаблона.

`ARCHIVES_SAVE_AS = 'archives.html'`

Место для сохранения страницы архивов статей.

`AUTHORS_SAVE_AS = 'authors.html'`

Место для сохранения списка авторов.

`CATEGORIES_SAVE_AS = 'categories.html'`

Место для сохранения списка категорий.

`TAGS_SAVE_AS = 'tags.html'`

Место для сохранения списка тегов.

`INDEX_SAVE_AS = 'index.html'`

Место для сохранения списка всех статей.

URL-адреса для страниц прямого шаблона зависят от темы. Некоторые темы используют соответствующие `*_URL` настройки в виде строки, в то время как другие жестко закодировать их: `'archives.html'`, `'authors.html'`, `'categories.html'`, `'tags.html'`.

`SLUG_REGEX_SUBSTITUTIONS = [`

`(r'[^\w\s-]', ''), # remove non-alphabetical/whitespace/'-' chars`

`(r'(?u)\A\s*', ''), # strip leading whitespace`

`(r'(?u)\s*\Z', ''), # strip trailing whitespace`

`(r'[-\s]+', '-'), # reduce multiple whitespace or '-' to single '-'``]`

Подстановки регулярных выражений, которые нужно сделать при создании заголовков статей и страниц. Задается в виде списка пар, `(from, to)` которые применяются по порядку, без учета регистра. Замены по умолчанию имеют эффект удаления не буквенно-цифровых символов и преобразования внутренних пробелов в тире. Помимо этих замен, заголовки всегда преобразуются в символы ascii в нижнем регистре, а начальные и конечные пробелы удаляются. Полезно для обратной совместимости с существующими URL-адресами.

`AUTHOR_REGEX_SUBSTITUTIONS = SLUG_REGEX_SUBSTITUTIONS`

Подстановки регулярных выражений для ярлыков автора. По умолчанию `SLUG_REGEX_SUBSTITUTIONS`.

`CATEGORY_REGEX_SUBSTITUTIONS = SLUG_REGEX_SUBSTITUTIONS`

Подстановки регулярных выражений для ярлыков категорий. По умолчанию `SLUG_REGEX_SUBSTITUTIONS`.

`TAG_REGEX_SUBSTITUTIONS = SLUG_REGEX_SUBSTITUTIONS`

Подстановки регулярных выражений для ярлыков тегов. По умолчанию `SLUG_REGEX_SUBSTITUTIONS`.

## Время и дата [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#time-and-date "Постоянная ссылка на этот заголовок")

`TIMEZONE`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#TIMEZONE "Постоянная ссылка на это определение")

Часовой пояс, используемый в информации о дате для создания каналов Atom и RSS.

Если часовой пояс не определен, предполагается UTC. Это означает, что сгенерированные каналы Atom и RSS будут содержать неверную информацию о дате, если ваш языковой стандарт отличается от UTC.

Пеликан выдает предупреждение, если этот параметр не определен, поскольку в предыдущих версиях он не был обязательным.

Взгляните на [страницу википедии,](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) чтобы получить список допустимых значений часовых поясов.

`DEFAULT_DATE = None`

Дата по умолчанию, которую вы хотите использовать. Если `'fs'`, Pelican будет использовать информацию о временной метке файловой системы (mtime), если он не может получить информацию о дате из метаданных. Если задана любая другая строка, она будет проанализирована тем же методом, что и метаданные статьи. Если задан объект кортежа, вместо этого объект datetime по умолчанию будет сгенерирован путем передачи кортежа в `datetime.datetime` конструктор.

`DEFAULT_DATE_FORMAT = '%a %d %B %Y'`

Формат даты по умолчанию, который вы хотите использовать.

`DATE_FORMATS = {}`

Если вы управляете несколькими языками, вы можете установить форматирование даты здесь.

Если нет `DATE_FORMATS` , Пеликан вернется к `DEFAULT_DATE_FORMAT`. Если вам нужно поддерживать несколько языков с разными форматами даты, вы можете установить `DATE_FORMATS` словарь, используя имя языка ( `lang` метаданные в содержимом вашего сообщения) в качестве ключа.

В дополнение к стандартным кодам формата strftime C89, которые перечислены в [документации Python strftime](https://docs.python.org/library/datetime.html#strftime-strptime-behavior) , вы можете использовать `-` символ между `%` и символ формата для удаления любых начальных нулей. Например, `%d/%m/%Y` будет выводиться, `01/01/2014` тогда как `%-d/%-m/%Y` результатом будет `1/1/2014`.

	DATE_FORMATS = {
	    'en': '%a, %d %b %Y',
	    'jp': '%Y-%m-%d(%a)',
	}

Также можно установить разные настройки локали для каждого языка, используя `(locale, format)` кортеж в качестве значения словаря, который переопределит `LOCALE` настройку:

	`# On Unix/Linux
	DATE_FORMATS = {
	    'en': ('en_US','%a, %d %b %Y'),
	    'jp': ('ja_JP','%Y-%m-%d(%a)'),
	}


# On Windows  


	DATE_FORMATS  =  {  
	‘en’:  (‘usa’,’%a, %d %b %Y’),  
	‘jp’:  (‘jpn’,’%Y-%m-%d(%a)’),  
	}` 

`LOCALE`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#LOCALE "Постоянная ссылка на это определение")

Измените локаль [[1]](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id2) . Здесь может быть представлен список языковых стандартов или одна строка, представляющая один языковой стандарт. При предоставлении списка будут проверяться все языковые стандарты, пока одна из них не сработает.

Вы можете установить языковой стандарт для дальнейшего управления форматом даты:

 `LOCALE = ('usa', 'jpn',      # On Windows
 'en_US', 'ja_JP'   # On Unix/Linux
)` 

Для получения списка доступных локалей обратитесь к [локали в Windows](http://msdn.microsoft.com/en-us/library/cdax410z%28VS.71%29.aspx) или в Unix / Linux, используйте `locale -a` команду; см. [локаль](https://linux.die.net/man/1/locale) man- [страницы (1)](https://linux.die.net/man/1/locale) для получения дополнительной информации.

[[1]](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id1)

По умолчанию используется системный языковой стандарт.

## Страницы шаблонов [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#template-pages "Постоянная ссылка на этот заголовок")

`TEMPLATE_PAGES = None`

Сопоставление, содержащее страницы-шаблоны, которые будут отображаться с записями блога. См. [Страницы шаблонов](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#template-pages) .

Если вы хотите создавать собственные страницы помимо записей в блоге, вы можете указать в любом файле шаблона Jinja2 путь, указывающий на файл, и путь назначения для созданного файла.

Например, если у вас есть блог с тремя статическими страницами - списком книг, вашим резюме и страницей контактов - у вас могут быть:

`TEMPLATE_PAGES = {'src/books.html': 'dest/books.html',
 'src/resume.html': 'dest/resume.html',
 'src/contact.html': 'dest/contact.html'}` 

`TEMPLATE_EXTENSIONS = ['.html']`

Расширения, используемые при поиске файлов шаблонов по именам шаблонов.

`DIRECT_TEMPLATES = ['index', 'authors', 'categories', 'tags', 'archives']`

Список шаблонов, которые используются непосредственно для рендеринга контента. Обычно прямые шаблоны используются для создания индексных страниц для коллекций контента (например, индексных страниц категорий и тегов). Если автор, категория и коллекции тегов не нужны, установите `DIRECT_TEMPLATES = ['index', 'archives']`

`DIRECT_TEMPLATES` ищутся по путям, поддерживаемым в `THEME_TEMPLATES_OVERRIDES`.

## Метаданные [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#metadata "Постоянная ссылка на этот заголовок")

`AUTHOR`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#AUTHOR "Постоянная ссылка на это определение")

Автор по умолчанию (обычно ваше имя).

`DEFAULT_METADATA = {}`

Метаданные по умолчанию, которые вы хотите использовать для всех статей и страниц.

`FILENAME_METADATA = r'(?P<date>d{4}-d{2}-d{2}).*'`

Регулярное выражение, которое будет использоваться для извлечения любых метаданных из имени файла. Все сопоставленные именованные группы будут установлены в объекте метаданных. Значение по умолчанию будет извлекать только дату из имени файла.

Например, чтобы извлечь дату и заголовок:

`FILENAME_METADATA = r'(?P<date>\d{4}-\d{2}-\d{2})_(?P<slug>.*)'` 

См. Также `SLUGIFY_SOURCE`.

`PATH_METADATA = ''`

Как `FILENAME_METADATA`, но анализируется из полного пути к странице относительно каталога источника контента.

`EXTRA_PATH_METADATA = {}`

Дополнительные словари метаданных с вводом по относительному пути. Относительные пути требуют правильных разделителей каталогов для конкретной ОС (например, / в UNIX и \ в Windows), в отличие от некоторых других параметров файлов Pelican. Пути к каталогу применяются ко всем файлам в нем. Наиболее конкретный путь побеждает в конфликтах.

Не все метаданные нужно [встраивать в сам исходный файл](https://docs.getpelican.com/en/stable/content.html#internal-metadata) . Например, сообщения в блогах часто называются по `YYYY-MM-DD-SLUG.rst` шаблону или вкладываются в `YYYY/MM/DD-SLUG` каталоги. Чтобы извлечь метаданные из имени файла или пути, задайте `FILENAME_METADATA` или `PATH_METADATA` для регулярных выражений, которые используют [нотацию имени группы](https://docs.python.org/3/library/re.html#regular-expression-syntax)  Python `(?P<name>…)`. Если вы хотите прикрепить дополнительные метаданные, но не хотите кодировать их в пути, вы можете установить `EXTRA_PATH_METADATA`:

	EXTRA_PATH_METADATA = {
	    'relative/path/to/file-1': {
	        'key-1a': 'value-1a',
	        'key-1b': 'value-1b',
	        },
	    'relative/path/to/file-2': {
	        'key-2': 'value-2',
	        },
	    }

Это может быть удобный способ изменить место установки определенного файла:


	# Take advantage of the following defaults
	# STATIC_SAVE_AS = '{path}'
	# STATIC_URL = '{path}'
	STATIC_PATHS = [
	    'static/robots.txt',
	    ]
	EXTRA_PATH_METADATA = {
	    'static/robots.txt': {'path': 'robots.txt'},
	    }


## Настройки подачи [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#feed-settings "Постоянная ссылка на этот заголовок")

По умолчанию Pelican использует каналы Atom. Однако при желании можно также использовать RSS-каналы.

Пеликан создает каналы категорий, а также каналы для всех ваших статей. Он не создает каналы для тегов по умолчанию, но можно сделать так , используя `TAG_FEED_ATOM` и `TAG_FEED_RSS` настройки:

`FEED_DOMAIN = None, i.e. base URL is "/"`

Домен добавлен к URL-адресам каналов. Поскольку URL-адреса каналов всегда должны быть абсолютными, настоятельно рекомендуется определить это (например, « [https://feeds.example.com](https://feeds.example.com/) »). Если вы уже четко определены SITEURL (смотри выше) и хотите использовать один и тот же домен для ваших каналов, вы можете просто установить: `FEED_DOMAIN = SITEURL`.

`FEED_ATOM = None, i.e. no Atom feed`

Место для сохранения ленты Atom.

`FEED_ATOM_URL = None`

Относительный URL-адрес канала Atom. Если не установлен, `FEED_ATOM` используется как для места сохранения, так и для URL.

`FEED_RSS = None, i.e. no RSS`

Место для сохранения RSS-канала.

`FEED_RSS_URL = None`

Относительный URL-адрес RSS-канала. Если не установлен, `FEED_RSS` используется как для места сохранения, так и для URL.

`FEED_ALL_ATOM = 'feeds/all.atom.xml'`

Место для сохранения ленты Atom со всеми сообщениями: эта лента будет содержать все сообщения независимо от их языка.

`FEED_ALL_ATOM_URL = None`

Относительный URL-адрес ленты Atom со всеми сообщениями. Если не установлен, `FEED_ALL_ATOM` используется как для места сохранения, так и для URL.

`FEED_ALL_RSS = None, i.e. no all-posts RSS`

Место для сохранения RSS-канала всех сообщений: этот канал будет содержать все сообщения независимо от их языка.

`FEED_ALL_RSS_URL = None`

Относительный URL-адрес RSS-канала всех сообщений. Если не установлен, `FEED_ALL_RSS` используется как для места сохранения, так и для URL.

`CATEGORY_FEED_ATOM = 'feeds/{slug}.atom.xml'`

Место для сохранения каналов категории Atom. [[2]](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id14)

`CATEGORY_FEED_ATOM_URL = None`

Относительный URL-адрес каналов категории Atom, включая `{slug}` заполнитель. [[2]](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id14) Если не установлен, `CATEGORY_FEED_ATOM` используется как для места сохранения, так и для URL.

`CATEGORY_FEED_RSS = None, i.e. no RSS`

Место для сохранения RSS-каналов категории, включая `{slug}` заполнитель. [[2]](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id14)

`CATEGORY_FEED_RSS_URL = None`

Относительный URL-адрес RSS-каналов категории, включая `{slug}` заполнитель. [[2]](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id14) Если не установлен, `CATEGORY_FEED_RSS` используется как для места сохранения, так и для URL.

`AUTHOR_FEED_ATOM = 'feeds/{slug}.atom.xml'`

Место для сохранения авторских лент Atom. [[2]](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id14)

`AUTHOR_FEED_ATOM_URL = None`

Относительный URL-адрес авторских каналов Atom, включая `{slug}` заполнитель. [[2]](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id14) Если не установлен, `AUTHOR_FEED_ATOM` используется как для места сохранения, так и для URL.

`AUTHOR_FEED_RSS = 'feeds/{slug}.rss.xml'`

Место для сохранения RSS-каналов автора. [[2]](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id14)

`AUTHOR_FEED_RSS_URL = None`

Относительный URL-адрес RSS-каналов автора, включая `{slug}` заполнитель. [[2]](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id14) Если не установлен, `AUTHOR_FEED_RSS` используется как для места сохранения, так и для URL.

`TAG_FEED_ATOM = None, i.e. no tag feed`

Место для сохранения фида Atom тега, включая `{slug}` заполнитель. [[2]](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id14)

`TAG_FEED_ATOM_URL = None`

Относительный URL-адрес фида Atom тега, включая `{slug}` заполнитель. [[2]](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id14)

`TAG_FEED_RSS = None, i.e. no RSS tag feed`

Относительный URL для вывода RSS-канала тега, включая `{slug}` заполнитель. Если не установлен, `TAG_FEED_RSS` используется как для места сохранения, так и для URL.

`FEED_MAX_ITEMS`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#FEED_MAX_ITEMS "Постоянная ссылка на это определение")

Максимальное количество элементов, разрешенных в фиде. Количество элементов фида по умолчанию не ограничено.

`RSS_FEED_SUMMARY_ONLY = True`

Включайте в `description` тег RSS-каналов только сводки по элементам. Если установлено `False`, вместо этого будет включено все содержимое. Этот параметр не влияет на каналы Atom, только на RSS.

Если вы не хотите создавать некоторые или какие-либо из этих каналов, установите для указанных выше переменных значение `None`.

[2]

_( [1](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id4) , [2](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id5) , [3](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id6) , [4](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id7) , [5](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id8) , [6](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id9) , [7](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id10) , [8](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id11) , [9](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id12) , [10](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id13) )_  `{slug}` заменяется названием категории / автора / тега.

## Пагинация [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#pagination "Постоянная ссылка на этот заголовок")

По умолчанию Pelican отображает все заголовки статей вместе с кратким описанием на странице индекса. Хотя это хорошо работает для сайтов малого и среднего размера, сайты с большим количеством статей, вероятно, выиграют от разбивки этого списка на страницы.

Вы можете использовать следующие параметры для настройки нумерации страниц.

`DEFAULT_ORPHANS = 0`

Минимальное количество статей, разрешенных на последней странице. Используйте это, если вы не хотите, чтобы последняя страница содержала только несколько статей.

`DEFAULT_PAGINATION = False`

Максимальное количество статей для включения на страницу, не считая сирот. False, чтобы отключить разбиение на страницы.

`PAGINATED_TEMPLATES = {'index': None, 'tag': None, 'category': None, 'author': None}`

Шаблоны для использования разбивки на страницы и количество статей для включения на страницу. Если это значение `None`, по умолчанию используется `DEFAULT_PAGINATION`.

`` `PAGINATION_PATTERNS = (`
`(1, '{name}{extension}', '{name}{extension}'),`
`(2, '{name}{number}{extension}', '{name}{number}{extension}'),`
`)` `` 

> Набор шаблонов, которые используются для определения вывода расширенной разбивки на страницы.

### Использование шаблонов [разбивки на](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#using-pagination-patterns "Постоянная ссылка на этот заголовок") страницы [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#using-pagination-patterns "Постоянная ссылка на этот заголовок")

По умолчанию страницы, следующие за `.../foo.html` , создаются как `.../foo2.html`и т. Д. Этот `PAGINATION_PATTERNS` параметр можно использовать, чтобы изменить это. Требуется последовательность троек, каждая из которых состоит из:

	(minimum_page, page_url, page_save_as,)

Для `page_url` и `page_save_as`вы можете использовать ряд переменных. `{url}` и `{save_as}` соответствуют соответственно `*_URL` и `*_SAVE_AS` значению соответствующего типа страницы (например `ARTICLE_SAVE_AS`). Если `{save_as} == foo/bar.html`, то `{name} == foo/bar` и `{extension} == .html`. `{base_name}` равно, `{name}` за исключением того, что он удаляет завершающие символы, `/index` если они есть. `{number}` равно номеру страницы.

Например, если вы хотите оставить первую страницу без изменений, но разместить последующие страницы и `.../page/2/` т. Д., Вы можете установить `PAGINATION_PATTERNS` следующее:

	PAGINATION_PATTERNS = (
	    (1, '{url}', '{save_as}',
	    (2, '{base_name}/page/{number}/', '{base_name}/page/{number}/index.html'),
	)

## Переводы [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#translations "Постоянная ссылка на этот заголовок")

Пеликан предлагает способ перевода статей. См. Раздел « [Содержание](https://docs.getpelican.com/en/stable/content.html) » для получения дополнительной информации.

`DEFAULT_LANG = 'en'`

Используемый по умолчанию язык.

`ARTICLE_TRANSLATION_ID = 'slug'`

Атрибут (ы) метаданных, используемый для определения того, какие статьи являются переводами друг друга. Может быть строкой или набором строк. Установите `None` или `False` отключите идентификацию переводов.

`PAGE_TRANSLATION_ID = 'slug'`

Атрибут (ы) метаданных, используемый для определения того, какие страницы являются переводами друг друга. Может быть строкой или набором строк. Установите `None` или `False` отключите идентификацию переводов.

`TRANSLATION_FEED_ATOM = 'feeds/all-{lang}.atom.xml'`

Место для сохранения ленты Atom для переводов. [[3]](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id18)

`TRANSLATION_FEED_ATOM_URL = None`

Относительный URL-адрес канала Atom для переводов, включая `{lang}` заполнитель. [[3]](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id18) Если не установлен, `TRANSLATION_FEED_ATOM` используется как для места сохранения, так и для URL.

`TRANSLATION_FEED_RSS = None, i.e. no RSS`

Куда поставить RSS-ленту для переводов.

`TRANSLATION_FEED_RSS_URL = None`

Относительный URL-адрес RSS-канала для переводов, включая `{lang}` заполнитель. [[3]](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id18) Если не установлен, `TRANSLATION_FEED_RSS` используется как для места сохранения, так и для URL.

[3]

_( [1](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id15) , [2](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id16) , [3](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#id17) )_ {lang} - код языка

## Заказ содержимого [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#ordering-content "Постоянная ссылка на этот заголовок")

`NEWEST_FIRST_ARCHIVES = True`

Упорядочивайте архивы по самым новым, сначала по дате. (Неверно: заказы по дате с более ранними статьями.)

`REVERSE_CATEGORY_ORDER = False`

Измените порядок категорий. (Верно: списки в обратном алфавитном порядке; по умолчанию списки в алфавитном порядке.)

`ARTICLE_ORDER_BY = 'reversed-date'`

Определяет способ `articles_page.object_list` сортировки статей ( в шаблоне). Допустимые параметры: метаданные в виде строки (используйте `reversed-` префикс в обратном порядке сортировки), специальный параметр, `'basename'` который будет использовать базовое имя файла (без пути) или пользовательскую функцию для извлечения ключа сортировки из статей. Значение по умолчанию `'reversed-date'`сортирует статьи по дате в обратном порядке (т. Е. Самая новая статья идет первой).

`PAGE_ORDER_BY = 'basename'`

Определяет способ `pages` сортировки страниц ( переменная в шаблоне). Параметры такие же, как `ARTICLE_ORDER_BY`. Значение по умолчанию `'basename'` сортирует страницы по их базовому имени.

## Темы [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#themes "Постоянная ссылка на этот заголовок")

Создание тем Пеликана рассматривается в специальном разделе (см. [Создание тем](https://docs.getpelican.com/en/stable/themes.html#theming-pelican) ). Однако вот настройки, относящиеся к темам.

`THEME`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#THEME "Постоянная ссылка на это определение")

Тема для вывода. Может быть относительным или абсолютным путем к папке с темой, или именем темы по умолчанию, или темы, установленной через `pelican-themes` (см. Ниже).

`THEME_STATIC_DIR = 'theme'`

Целевой каталог в пути вывода, куда Пеликан поместит файлы, собранные из THEME_STATIC_PATHS. По умолчанию это тема.

`THEME_STATIC_PATHS = ['static']`

Пути статических тем, которые вы хотите скопировать. Значение по умолчанию - static, но если у вашей темы есть другие статические пути, вы можете разместить их здесь. Если файлы или каталоги с одинаковыми именами включены в пути, определенные в этих настройках, они будут постепенно перезаписываться.

`THEME_TEMPLATES_OVERRIDES = []`

Список путей, по которым Jinja2 будет искать шаблоны перед поиском в `templates/` каталоге темы . Позволяет переопределять отдельные файлы шаблона темы без необходимости разветвлять существующую тему. Jinja2 выполняет поиск в следующем порядке: `THEME_TEMPLATES_OVERRIDES` сначала файлы , затем темы `templates/`.

Вы также можете расширить шаблоны из темы с помощью `{% extends %}` директивы, использующей `!theme` префикс, как показано в следующем примере:

{% extends '! theme / article.html'%}

`CSS_FILE = 'main.css'`

Укажите файл CSS, который хотите загрузить.

По умолчанию доступны две темы. Вы можете указать их с помощью `THEME` параметра или передав `-t` параметр `pelican` команде:

-   notmyidea
-   простой (синоним «обычный текст» :)

На [https://github.com/getpelican/pelican-themes](https://github.com/getpelican/pelican-themes) доступен ряд других тем . Pelican поставляется с [pelican-themes](https://docs.getpelican.com/en/stable/pelican-themes.html) , небольшим скриптом для управления темами.

Вы можете определить свою собственную тему, начав с нуля или скопировав и изменив уже существующую тему. Вот [руководство по созданию вашей темы](https://docs.getpelican.com/en/stable/themes.html) .

Ниже приведены примеры способов указать предпочитаемую тему:


	# Specify name of a built-in theme
	THEME = "notmyidea"
	# Specify name of a theme installed via the pelican-themes tool
	THEME = "chunk"
	# Specify a customized theme, via path relative to the settings file
	THEME = "themes/mycustomtheme"
	# Specify a customized theme, via absolute path
	THEME = "/home/myuser/projects/mysite/themes/mycustomtheme"


Встроенная `notmyidea` тема может эффективно использовать следующие настройки. Не стесняйтесь использовать их и в своих темах.

`SITESUBTITLE`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#SITESUBTITLE "Постоянная ссылка на это определение")

Подзаголовок, отображаемый в заголовке.

`DISQUS_SITENAME`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#DISQUS_SITENAME "Постоянная ссылка на это определение")

Pelican может обрабатывать комментарии Disqus. Укажите здесь идентификатор Disqus sitename.

`GITHUB_URL`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#GITHUB_URL "Постоянная ссылка на это определение")

Ваш URL-адрес GitHub (если он у вас есть). Затем он будет использовать эту информацию для создания ленты GitHub.

`GOOGLE_ANALYTICS`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#GOOGLE_ANALYTICS "Постоянная ссылка на это определение")

Установите `UA-XXXXX-Y` идентификатор отслеживания ресурса, чтобы активировать Google Analytics.

`GA_COOKIE_DOMAIN`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#GA_COOKIE_DOMAIN "Постоянная ссылка на это определение")

Поле «Установить домен cookie» кода отслеживания Google Analytics. По умолчанию `auto`.

`GOSQUARED_SITENAME`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#GOSQUARED_SITENAME "Постоянная ссылка на это определение")

Установите значение «XXX-YYYYYY-X», чтобы активировать GoSquared.

`MENUITEMS`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#MENUITEMS "Постоянная ссылка на это определение")

Список кортежей (заголовок, URL-адрес) для дополнительных пунктов меню, отображаемых в начале главного меню.

`PIWIK_URL`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#PIWIK_URL "Постоянная ссылка на это определение")

URL-адрес вашего сервера Piwik - без [http: //](http:) в начале.

`PIWIK_SSL_URL`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#PIWIK_SSL_URL "Постоянная ссылка на это определение")

Если URL-адрес SSL отличается от обычного URL-адреса Piwik, вы также должны включить этот параметр. (по желанию)

`PIWIK_SITE_ID`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#PIWIK_SITE_ID "Постоянная ссылка на это определение")

ID отслеживаемого сайта. Вы можете найти идентификатор в интерфейсе администратора Piwik> Настройки> Сайты.

`LINKS`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#LINKS "Постоянная ссылка на это определение")

Список кортежей (заголовок, URL-адрес) для ссылок, отображаемых в заголовке.

`SOCIAL`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#SOCIAL "Постоянная ссылка на это определение")

Список кортежей (заголовок, URL-адрес) для отображения в разделе «социальные сети».

`TWITTER_USERNAME`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#TWITTER_USERNAME "Постоянная ссылка на это определение")

Позволяет добавить к статьям кнопку, чтобы побудить других писать о них в Твиттере. Добавьте свое имя пользователя Twitter, если хотите, чтобы эта кнопка появилась.

`LINKS_WIDGET_NAME`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#LINKS_WIDGET_NAME "Постоянная ссылка на это определение")

Позволяет переопределить имя виджета ссылок. Если не указано, по умолчанию используются «ссылки».

`SOCIAL_WIDGET_NAME`[¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#SOCIAL_WIDGET_NAME "Постоянная ссылка на это определение")

Позволяет переопределить имя «социального» виджета. Если не указано, по умолчанию используется «социальный».

Кроме того, вы можете использовать «широкую» версию `notmyidea` темы, добавив в свою конфигурацию следующее:

`CSS_FILE = "wide.css"` 

## Ведение журнала [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#logging "Постоянная ссылка на этот заголовок")

Иногда при создании сайта может появиться длинный список предупреждений. Найти **значимое** сообщение об ошибке среди множества надоедливых выводов журнала может быть довольно сложно. Чтобы отфильтровать повторяющиеся сообщения журнала, Пеликан поставляется с `LOG_FILTER` настройкой.

`LOG_FILTER` должен быть списком кортежей `(level, msg)`, каждый из которых состоит из уровня ведения журнала (до `warning`) и сообщения, которое следует игнорировать. Просто заполните список сообщениями журнала, которые вы хотите скрыть, и они будут отфильтрованы.

Например:

	import logging
	LOG_FILTER = [(logging.WARN, 'TAG_SAVE_AS is set to False')]

Есть возможность отфильтровать сообщения по шаблону. Ознакомьтесь с исходным кодом, чтобы получить шаблон.

Например:

	import logging
	LOG_FILTER = [(logging.WARN, 'Empty alt attribute for image %s in %s')]

> Предупреждение
> 
> Отключение сообщений по шаблонам - опасная функция. Можно
> непреднамеренно отфильтровать несколько типов сообщений с помощью
> одного и того же шаблона (включая сообщения из будущих версий
> Pelican). Действовать с осторожностью.



> Заметка
> 
> Эта опция ничего не делает, если `--debug` она передана.


## Чтение только измененного содержимого [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#reading-only-modified-content "Постоянная ссылка на этот заголовок")

Чтобы ускорить процесс сборки, Pelican может дополнительно читать только статьи и страницы с измененным содержанием.

Когда Пеликан собирается прочитать какой-то исходный файл:

1.  Информация о хэше или времени модификации для файла из предыдущей сборки загружается из файла кеша, если он `LOAD_CONTENT_CACHE` есть `True`. Эти файлы хранятся в `CACHE_PATH` каталоге. Если файл не имеет записи в файле кэша, он читается как обычно.
    
2.  Файл проверяется по `CHECK_MODIFIED_METHOD`:
    
    > -   Если установлено значение `'mtime'`, проверяется время изменения файла.
    > -   Если установлено имя функции, предоставляемой `hashlib` модулем, например `'md5'`, проверяется хэш файла.
    > -   Если установлено любое другое значение или необходимая информация о файле не может быть найдена в файле кэша, содержимое читается как обычно.
    
3.  Если файл считается неизменным, данные содержимого, сохраненные в предыдущей сборке, соответствующей файлу, загружаются из кеша, и файл не читается.
    
4.  Если файл считается измененным, файл считывается, и информация о новой модификации и данные содержимого сохраняются в кэш, если `CACHE_CONTENT` есть `True`.
    

Если `CONTENT_CACHING_LAYER` установлено значение `'reader'` (по умолчанию), необработанное содержимое и метаданные, возвращаемые средством чтения, кэшируются. Если для этого параметра установлено значение `'generator'`, обрабатываемый объект содержимого кэшируется. Кэширование обработанного объекта содержимого может конфликтовать с подключаемыми модулями (поскольку некоторые сигналы, относящиеся к чтению, могут быть пропущены) и `WITH_FUTURE_DATES` функциональностью (поскольку `draft` состояние кэшированных объектов содержимого не будет автоматически меняться со временем).

Проверка времени модификации выполняется быстрее, чем сравнение хэшей файлов, но это не так надежно, потому что `mtime` информация может быть потеряна, например, при копировании исходных файлов контента с помощью команд `cp` или `rsync`без `mtime` режима сохранения (который `rsync` можно активировать, передав `--archive` флаг).

Файлы кеша представляют собой соленые огурцы Python, поэтому они могут быть недоступны для чтения различными версиями Python, поскольку формат рассола часто меняется. Если возникает такая ошибка, она перехватывается, и файл кеша автоматически перестраивается в новом формате. Файлы кеша также будут перестроены после изменения `GZIP_CACHE` настройки.

Параметр `--ignore-cache` командной строки полезен, когда необходимо регенерировать весь кеш, например, при внесении изменений в файл настроек, которые повлияют на кэшированное содержимое, или просто для целей отладки. Когда Pelican работает в режиме автоперезагрузки, изменение файла настроек заставит его автоматически игнорировать кеш, если он `AUTORELOAD_IGNORE_CACHE` есть `True`.

Обратите внимание, что даже при использовании кэшированного содержимого весь вывод всегда записывается, поэтому время модификации сгенерированных `*.html` файлов всегда будет меняться. Следовательно, `rsync`эта `--checksum` опция может быть полезной для загрузки на основе .

## Запись только выбранного контента [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#writing-only-selected-content "Постоянная ссылка на этот заголовок")

Когда вы работаете только над отдельной статьей или страницей или вносите изменения в свою тему, часто бывает желательно как можно быстрее создать и просмотреть свою работу. В таких случаях создание и запись всего вывода сайта часто не требуется. Если указать только желаемые файлы в качестве выходных путей в `WRITE_SELECTED` списке, будут записаны **только** эти файлы. Этот список также можно указать в командной строке с помощью `--write-selected` параметра, который принимает список путей к выходным файлам, разделенных запятыми. По умолчанию этот список пуст, поэтому записывается весь вывод. Подробнее см. [Создание сайта](https://docs.getpelican.com/en/stable/publish.html#site-generation) .

## Пример настроек [¶](https://adsmek.github.io/nastroiki-osnovnye-nastroiki.html#example-settings "Постоянная ссылка на этот заголовок")


	# -*- coding: utf-8 -*-
	from __future__ import unicode_literals

	AUTHOR = 'Alexis Métaireau'
	SITENAME = "Alexis' log"
	SITESUBTITLE = 'A personal blog.'
	SITEURL = 'http://blog.notmyidea.org'
	TIMEZONE = "Europe/Paris"

	# can be useful in development, but set to False when you're ready to publish
	RELATIVE_URLS = True

	GITHUB_URL = 'http://github.com/ametaireau/'
	DISQUS_SITENAME = "blog-notmyidea"
	REVERSE_CATEGORY_ORDER = True
	LOCALE = "C"
	DEFAULT_PAGINATION = 4
	DEFAULT_DATE = (2012, 3, 2, 14, 1, 1)

	FEED_ALL_RSS = 'feeds/all.rss.xml'
	CATEGORY_FEED_RSS = 'feeds/{slug}.rss.xml'

	LINKS = (('Biologeek', 'http://biologeek.org'),
	         ('Filyb', "http://filyb.info/"),
	         ('Libert-fr', "http://www.libert-fr.com"),
	         ('N1k0', "http://prendreuncafe.com/blog/"),
	         ('Tarek Ziadé', "http://ziade.org/blog"),
	         ('Zubin Mithra', "http://zubin71.wordpress.com/"),)

	SOCIAL = (('twitter', 'http://twitter.com/ametaireau'),
	          ('lastfm', 'http://lastfm.com/user/akounet'),
	          ('github', 'http://github.com/ametaireau'),)

	# global metadata to all the contents
	DEFAULT_METADATA = {'yeah': 'it is'}

	# path-specific metadata
	EXTRA_PATH_METADATA = {
	    'extra/robots.txt': {'path': 'robots.txt'},
	    }

	# static paths will be copied without parsing their contents
	STATIC_PATHS = [
	    'pictures',
	    'extra/robots.txt',
	    ]

	# custom page generated with a jinja2 template
	TEMPLATE_PAGES = {'pages/jinja2_template.html': 'jinja2_template.html'}

	# code blocks with line numbers
	PYGMENTS_RST_OPTIONS = {'linenos': 'table'}

	# foobar will not be used, because it's not in caps. All configuration keys
	# have to be in caps
	foobar = "barbaz"